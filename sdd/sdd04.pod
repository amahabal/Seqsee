=head1 NAME

Seqsee Design Doc 4 - Overall Architecture

=head1 AUTHOR

Abhijit Mahabal

=head1 VERSION

Last Modified: Dec 03, 2004

Number : 4

Version : 0

=head1 The Codelet System

This document describes the codelet system for Seqsee.

=head1 Files

The coderack is implemented in F<SCoderack.pm>. The Codelet class is implemented in F<SCodelet.pm>.

F<SCF.list> is a plain text file with the names of the code families to load. If a line in this file starts with a C<#> then that line is ignored. Each entry looks like this: C<< SCF::bond_scout >>.  So it is not really a filename.

Each codefamily is implemented in its own file. The codefamily C<bond_scout> is thus implemented in F<SCF/bond_scout.pm> and starts with the line C<< package SCF::bond_scout; >>. It has the method C<run()> in it.

=head1 Variables

The following are the global variables associated with the codelet system.

=over

=item C<$::CurrentCodelet>

This is the codelet that is currently running, or was the last one that ran.

=item C<$::CurrentCodeletFamily>

The family of the currently running codelet. The family name does not include the initial "SCF". The family of a bond scout codelet is just "bond_scout".

=item C<$::CurrentEpoch>

The number of codelets run so far, including the current. Thus, when the first codelet is running, this number is a 1. This is 0 before any codelet has run.

=back

=head1 Codelet Structure

The codelet structure for a codelet in SeqSci was an array ref, consisting of the family name, urgency, epoch of birth, an extra slot for some unforeseen parameter and finally the options for the codelet. Maybe I can keep it almost the same, except have a ref to the options hash rather than just keep it as it is. Won't slow things down, and will make them cleaner. Thus, each codelet is an array ref consisting of:

=over

=item At position 0: family name

=item At position 1: Urgency

=item At position 2: epoch of birth

=item At position 3: options ref

=back

We will surely need other attributes later, perhaps something like effective urgency.

=cut


